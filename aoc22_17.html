<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script>
	"use strict";

	function calc() {
		document.getElementById("result").innerHTML = getResult();
	}

	function getResult() {
		const jet = input.split("");

		const rocks = 	[["..@@@@."], 
						["...@...", "..@@@..", "...@..."], 
						["..@@@..", "....@..", "....@.."], 
						["..@....", "..@....", "..@....", "..@...."], 
						["..@@...", "..@@..."]];

		const cave = ["#######"];
		let n = 0;
		let allHeights = [];

		let part1 = null;

		for (let rockIndex = 0; rockIndex < input.length * rocks.length; ++rockIndex) {
			if (rockIndex == 2022) {
				part1 = cave.length - 1;
			}

			const rock = rocks[rockIndex % rocks.length];
			let height = cave.length + 3;

			cave.push(".......", ".......", ".......", ...rock);

			let falling = true;

			while (falling) {
				let pushing = true;

				const jetValue = jet[n % jet.length];
				++n;

				for (let i = height; i < height + rock.length && pushing; ++i) {
					pushing &= isPushing(cave[i], jetValue);
				}

				if (pushing) {
					for (let i = height; i < height + rock.length; ++i) {
						cave[i] = pushLine(cave[i], jetValue);
					}
				}

				for (let i = height; i < height + rock.length && falling; ++i) {
					for (let j = 0; j < cave[0].length && falling; ++j) {
						falling &= (cave[i][j] != "@" || cave[i - 1][j] != "#");
					}
				}

				if (falling) {
					for (let y = height; y < height + rock.length; ++y) {
						let newLine = [".", ".", ".", ".", ".", ".", "."];
						let newLine2 = [".", ".", ".", ".", ".", ".", "."];

						for (let i = 0; i < cave[0].length; ++i) {
							if (cave[y - 1][i] == "#") {
								newLine[i] = "#";
							}

							if (cave[y][i] == "#") {
								newLine2[i] = "#";
							} else if (cave[y][i] == "@") {
								newLine[i] = "@";
							}
						}

						cave[y - 1] = newLine.join("");
						cave[y] = newLine2.join("");
					}

					--height;
				}
			}

			while (cave[cave.length - 1] == ".......") {
				cave.pop();
			}

			for (let i = height; i < height + rock.length; ++i) {
				cave[i] = cave[i].replace(/[@]/gm, "#");
			}

			allHeights.push(cave.length - 1);
		}

		let deltaIndex = 0;
		let deltaHeight = 0;

		for (let i = 1; i < Math.floor(input.length * rocks.length / 3); ++i) {
			const set = new Set();

			for (let j = i; j < allHeights.length - i; j += i) {
				set.add(allHeights[j + i] - allHeights[j]);
			}

			if (set.size == 1) {
				deltaIndex = i;
				deltaHeight = [...set][0];
				i = Math.floor(input.length * rocks.length / 3);
			}
		}

		const delta = allHeights[deltaIndex + (1000000000000 % deltaIndex)] - allHeights[deltaIndex];

		const part2 = Math.floor(1000000000000 / deltaIndex) * deltaHeight + delta - deltaHeight + allHeights[deltaIndex - 1];

		return part1 + ", " + part2;
	}

	function isPushing(line, jet) {
		if (jet == ">") {
			return line[line.length - 1] != "@" && line[line.lastIndexOf("@") + 1] != "#";

		} else if (jet == "<") {
			return line[0] != "@" && line[line.indexOf("@") - 1] != "#";
		}
	}

	function pushLine(line, jet) {
		const newLine = [".", ".", ".", ".", ".", ".", "."];

		for (let i = 0; i < line.length; ++i) {
			if (line[i] == "#") {
				newLine[i] = "#";
			} else if (line[i] == "@") {
				if (jet == ">") {
					newLine[i + 1] = "@";
				} else if (jet == "<") {
					newLine[i - 1] = "@";
				}
			}
		}

		return newLine.join("");
	} 

const test = `>>><<><>><<<>><>>><<<>>><<<><<<>><>><<>>`;

const input = `>>><<<>>>><<<>><<<<><>>><>>>><<><<<>>><<<><<<>>>><<<<>>><<>>>><<<>>>><<<<><>>>><<<>><<<>>><<><<<><>>>><>>>><<><<<<>>><<>>>><<<<>><<<<><<<>>><<<>><<<>><>>><<<<>>><<>>><<><<<<>>>><<<<><<<<>>><<>><<><<><<>>><<<><<<<>>>><<<><<<><><<><>>><<<<>><<<<>>>><><<<<>><>>>><<<<>>><<<>>>><<<<>>>><<<><>>>><>>>><<>>><<>>>><>>>><<><<<<>>><>>>><>>>><<<<>><<<>><<><<><<<><<><>><<<><<><<>>>><<>>><<>>>><>>><<<<>>>><<>><<<<><<>><><<<>><<<>>><<>>><<<><<<<><<>>><<<><<<<>>><<><<<<><<<<>><<<>><><>>>><><<<>>><<<>><<<<>>>><><<<<><<<>><<><<<>>>><<><<<>>>><<>>>><><>>><<>>><<<>>>><<<><<<><<<<>>><<<>>>><<<><>>>><<>>>><<<>>><<<<>><<<<>>>><><<<>>><<<<>>>><><>>>><>><>><<<>>><<<<><<<<><<<<>>>><<<>>>><>>>><<<<>>>><<>>><<><<<><<<><<<>>><<<>><<<><<<>>>><<<>><<>><<><<>><<<<>><<<<>><>><<>><<<<>>>><><<<<>><>><><<<>>><<<<>><>>>><<>>>><>><>>><<>><<><<<<>>><<<>>><>>><<><>>><<<<><><<<>>>><<<<><<<>>><><<<<><><<>>><<<><><><<>>><><><<>>>><<<>>>><<<>>><<>>>><>>><<<<>>>><>>>><<><<<>>><<<>>>><<>><<<<>>>><<<<>>><<<<><<<>><<>><<>>>><><<<>>>><<<>>>><<<<>><<<<>>>><>>>><<<>>>><><<>><>><<<><><<<<>>>><>>>><<<<>>><<<><<<><<<<>>>><<><<<>>>><<>>><<>><><<>><<<<>>><<>><<<><<<>><<<<><<><<<>>><><>><<<>><<<<>>>><<<>>><<>>><>><>><<<>><<<><<<><<><<>>>><<<<>>>><<<<>><<>><<>><<<>><<><<<><>>><<><>>><<>>>><>>>><><<><>><>><>>>><<<<>>><><<<<>>>><>>>><>>><<<>>>><<><<<<>><<<>>><<>>><<>><<<<>>>><<<>>>><<<>>><<<>>><><<<>><<>>><<<<>>>><>>>><<<>>>><<<>><>><<<>>>><<<>>>><<>>>><<<<>><><>>><<>><<<<><<<<>><<<<>><<<>>>><<<><<>><<>><<<<>><<>>><<<<>>><<<>>><<<<><<<<><<><<<>>>><>>><>>><<>><>>><<<<>>>><<<><>><<><<<<><>><<<><<>>>><<<><<<<>>>><<>>><><>>><<<>>>><><<>><<<>>>><>>>><<>><<<>>><<<<>>><<><>>><>><<<<>><<>>>><<<<>>>><<<>><>><<<>>><<<>>>><<<<><<><>><<<>><<><<<<>>>><<<>>><<><<<<><>><<<><<<><<<<>>><>><<<<><<<>><<<<>><>><<<<><<>><><<<>>><<<<>>><><<<<><>><><<>>>><>>>><<<<>>><<>>><<>>>><<<><<>>><<><<<<>>><<<>>><>><<<<>>><<>><<<>>><<>>>><<>><<<<>>>><<>><<>>>><<>>>><<><<>><<<<>>>><<<<>>><<<<><>>>><<<>>><>>><<<<>>>><<>>><<<><<<><<<<>><>>><<<>>>><<>>><<<>>><<<<>><<<>><<><<<<>>>><>>>><<><>>><<<<><<><<<<><><<<<>>><<><<><<<>>>><<><<>>>><>>><>><<<<><<<>>>><<<<>><<>>><<<>>>><<>>>><<><<>>>><>><><<<<>>>><<><<>>><<><<<><<><>><<<<>>>><<<>>><<<>>>><<><>>>><<><<><<<<><<<<>>><<<><>>>><<<>><<>><<><>>>><<>><>>><<<<>>><<>>>><<<<>>><>>><<<>>>><<<>>>><<<<>>><<>>><>><<<<>><<<><<<>>>><<<><<<<>>><<>><>><<<>><<<>><>>>><<>><><>>><<><>><<<>>><<>>>><>>><<><<>>><<<<>><<<<>>><>>>><<<<>>><<<>><<<<>>><<<><<<>>>><>>>><>><<<<>><><<<><>>>><>>>><<>>><<>>><<>>><<<><<>><<<>>>><>><>><<<<>>>><<>>><<>>>><>>><>><<>>><<<<>>>><<<>><<<><<<><<>>><<>><>>><<>>><<<<>><<<<><<>><<<<>>><<>>><><<>>><<<<>>><<<<>><<<<>><<<>>>><<<>>>><<<<>>><<<><<><<>>><<<>>>><<>>>><<<<>>><<<<>><<><<<<>>><><<<>><>>><<>>><<><<><<><<<<>>><<<><<<<><<<<><<<<>><>><<<<>>>><>>><<<<>><<><<>><<<>><<>>>><<<<>>>><<>><>><<><>>><<>><<<>><<>>><<<>>><<><<<<><><<>><<>>><<<>>>><<<<>>><<><<<>>>><<<<><<<<><>>>><<<>>>><<<>>><>>>><<<<>>>><<<<>><<>>><<>>>><<><<>>><<>>>><<<<><>>><<>>><>>>><<<>>><<<<>><<<<>><<<>><><<>>><<<>>><<<<>>>><<>>><<<<><<<<>>>><<<>>><<<><<>>><>><>>><<<<>>>><>><<<<>><>><<<<>>>><<<>><<>><<<>><<<><<<<>>>><<<<>><>>>><>><<<>>>><>>><>><<<><<<>><<<<>>><<<<>>><<>><<<><<<>>><<<>><<>>><<<<>>><<><<<>>><<><<><<<<>><>><<><<<<>><>>>><<><<<>>><<<>><><<<<>><<<>>>><<<>><<<>>><>><>>><<<>>>><>>><<<><<<>>>><<<>><<>>><>>>><<<<>>><<><<<<><<<>>><<<<>>>><<<<><>><<<><<<<>>><<>>>><<><<><>>>><>>>><<<<>>>><<<<>>><>>>><>><<<>>>><<<>>>><<>>>><<><<<<>>>><<<<><>><<<<><>>><<<>><>><>>>><><<<<><<<>>><<<<>><<<><<<<>>>><<<><<<>>>><><<<>>>><<<>><<<>><<<<>>><<<>>>><<<>>><>><<><<<>>><<>>><<><>><<<>>>><<>>>><<<>>>><<<<>>>><<<>>>><<>><>>>><<<><<>><<<><<<>><><>>><<>><<<><>>><<<>><<<>>>><<><>>><>>>><<<<>>>><<<<>>>><>>><<<<>><<<<><<<>>><>>><>>><<<><><<<>><<<>>><<<>>><<<>>>><<<<>>>><<<<><>>>><<<>><>><<<<>><<><<<<><<<>><><<<<>><>>>><<<<>><<<<><<<>>><<><<<<>>>><>>><<><>><>>>><<>><<<<>><>>>><<>><<>><<<<>><<>>>><<<<>>><><<<>><<<<>>>><<<<>>><<<<><<>><<>><<>>><<><<<<>><<<<>>><<>><<<<>><<<>>><<<>>>><<>>><<>>>><<<>><<<>>><>><<<<>><<<<>>><<>>><>>>><<><<>>>><<<<>>>><<><><<<<>>>><<<<>>>><<<>>>><><>><<>>><<<><<<<>>><><<<<>>><>>><><<>><<<<>>>><<>>><>>><>>><<><<><<>>>><<><<<<>>>><<<>><>>>><<<><><>>><<><<<>>>><<<<>>>><<<<>>><<<<><>><<<<>><<<>>>><<<<><<>>><><>>>><<>>>><<<>>><<<>>>><<<<><<>><<><<<<>>>><<<<>><<<><<>><<<>><<<>>>><<<>>><<<<><<<>>>><<<>>>><<<>>>><><<><<>><<<<><<<>>>><>>><><<<<><<>>>><<<<><<<>><<><<<><<<<>>>><<><<>>><>><<<<><><<<<>>><<<<>><>>><>>>><<><<<<><<<>><<<<>>>><>>>><<<><>>><<<<><<>>><>>>><<>><<>>>><<<<>>>><<<<>><<>><<<>>><<<<>>>><>>>><<><<><<<><<>>>><<><<<<>><<<<>><<<<><<<<><<<<><><<<<>>><<<<>><<><<>>><<<<>><<<<>>>><>><<<>>>><<<<>>>><<>>><<>>><<>>><<<<>>><<<>><>><<<>>><<>><<<<>><<><<<>>>><>>>><>>>><<<><<<>><<<<>>><>>><<>><<<<>>>><>>>><<>>>><>>><<<<>>><>>>><<<>><>>>><<<>>>><>>>><<<>>>><<<>><>>>><<<<>>><><<<><<<>>>><<<<>>><<<>>>><<>>><>>>><<<><<<>><<>>><<<<>>>><<<<>><><<<><<<>><<><>><<<<>><<<>>><<<<>>><<<<><<<><>>>><<>>>><<<<>>><<>>><<<<><>>><<>>>><<>>><<>>>><>>>><<<>>><<<>>>><<<>>><<>>><<>>>><<>>><<<>>>><>>><<<<>>>><>><>><<>>><<>>>><<<>>>><<<>>><<<<>>>><<>>><<<>><><<>><<<<>>><<<<>>><<<<><<>>><<<<>>>><<>>><<<<>>>><<>>>><<>>><<<><<<<><<>>>><<<>><>>>><<<>>><>>><<<<>>>><>>>><<>>><<<<>>>><<<<><<<<>><<><>><<<<><>>>><>>><>><<<>>><<>>>><>>>><<><>><<<<>>>><<<><<<<>>><>>><<<>>><<<<><<>><><><>><>><<<<>><<<>>><>>><<<>><<>>>><<<>>><><<<>><<<><<<<>><>><>><>><>>>><>><><<<<>>><<<<>>>><<<<><<>><>><<>>>><>>>><<<<>>><<<>><>>>><<<>><<<>>>><<>>>><>>>><<>><>>><<<<><<<<>>><<<<>><>><>><<<<>>><>>><<<<><<<>>>><<<>>>><<<<>>>><>><<<>><<<><<<><><>><<<>><>>><<>>>><<<><<>><<<<><<<<><<<>><<<>><<<<><<<><<<<><<<>><<><<<>>><<<<>><><<<<>><<<>>><<<>>>><<>>><<>>>><<>>>><<<<>><<<<>>><>>><>><<><<<<><><<><<<>>>><>>>><<<<>>><<>>><<<>>>><<<<>>><<>>><<<>>><>>>><<<<>><<>>>><<<<>>><<>>><<<<>><><<>><<>>>><<>>><<>>>><<<<>>><<<<>>><><<<><<<<><>>><<<<>><>><<<<>>><<<>><>>>><<<<>>><<>>>><<<<><<><<<<>>><<<<>>>><<>><<<<>>><<><<<>><<<>>><>><<<<>><<<><>><<>><<>><<<<>>>><>>><<>>><<><<<>>>><<<<><>>><<<>>><<<<><<<>><<>>>><<<>>>><<><<>><<>><<<><<<<>>>><<><<<<>><><>>><><<<>>>><<<<><<>><>>><<>><>>><<<><<>>><<<<>><>><<<<>><<<<>>>><<<<><<<<><<<>><>>><<<>>><<<<>>>><<>><<>><<<>>><><<<<><<<<>>>><<<>>><<>>><<>><<<<>>>><<>>><<<><>>><>>><<>>><<>>>><<<<><<<<><<<><<<>><<<<>>><>>><>><><<<<>><<><<>>><>>><<<<>><<><<<<>><<<>>><><<>>><<><<<<>><<<<><<<><>>><<<>>>><<>><<<<>>>><<<>><<<>><<<<>>>><<<>><<<<>><<<>>>><<>><>>><<><<<<>><<>>>><<<>>>><<<>>>><>>><<<<><<<><>><<><<<>>>><>><<<<>>><<<<>>><<<>><<<>>><>>>><<<<>>><<<<>>>><<<<>><<>>><<<><<<<>>><>>><<>>><<<>>>><<<<>><>>>><<<<>>><><<<<><<<>><<<><<<<><<<>><<<<><<>><<<<>><><<<>>><>><<<>><<<><>>><<<<>>><<>>>><<>><<>>>><><>>>><>><<<<><<<<><<<<><><<<<>>>><<>>>><<>>><<>><<<>><<><>>>><<<<><<<><<>>>><<<>>>><<<><<<<>>><<>>><<<<>>><<>>><<<><<><>>>><<>>>><<<<>>>><<<>>>><<<<>>><><>><<>>><<<<>>><<<<>>><<<><<<>>><<<>>>><>><<><<>><>><>><><<<>>><<<<>>>><<<>>>><<<<>>><>><<<><<<<>>><<<<><<<<>>>><<<>>><<>>>><<<>>>><>><<<<><<<<><<<>>><>>>><>>>><<>>>><<<><<<><<<>>><<<<>>><<>>><>>>><<<<>>><<><<>><<<><<<><<<><<<<>>><<<>><<<<>>>><<<<><<<>>><<<><><><<<>>>><<<<>>>><<<<>><<>><<<<><>>><<<>><<>>>><<<>>>><>><<<<><><<>>>><<<>><<<<>><<>>><<<<>><><<<>><<>>>><<>>><<>>>><<<<><<<><<>>>><>>>><<<>>><<<<><<>>>><>>>><>>>><<<<><<>>><<<<><<>>>><<<>><<>><<<<>><<<><<<>><<><<>>><<>><<<<><<<>><>>>><<<<><<<>>>><<<>>>><<<>>>><<<<>>><<<>>><><<<<>>>><<>><<<<>>><<<>>><><>>>><<<>>><<><<><<>>>><<>><<<<>>><<<>>>><<<<>>>><>>><<<<>>>><<<<><<><<>>><<<><>><<><<<><>><<<<><<<>>>><<<<>>>><>>><<<>>><<<<>>><>>><<<<>>>><<<<>>><<<<><>><><<>><<<>>>><<<>><<>><<>>>><<<<>>><<<<>><<<<><<><<>>>><<>>>><<<<>>><<<<>><><<<<>>><<>>><<<<><<<<><<>>>><<>><<><>>>><<<<>>><<<>>><>>>><<<><<<>><<<<>>><<>>><<<<>>><>><<<><<><><<<>><<<><<>>>><<<<><<<><<<<>><<<<>><<>>>><<<<>><<>>>><<>><<<>><<>>>><<<<>>><<<<><>><<<>>>><><>>>><<<><<<>><>>><<>><<<>>><<<<><<<>>><<><><<><>>><<>><<<><>>>><>><<<<>><<<<><<<<>>>><<<>>><<>>>><<>>>><<<><<><<<>>>><>><>><<<>><<<><<>><<<>>>><<>>>><<<<>>>><<<<>>><<<<>>><<<>>><<<<><<<>>>><<>>>><>>><><<<>><<><<<><>>><><>>><<<<>>><<<<><<><<<>><<<<><<<<>>>><<<<>><>>>><<>>><<<<>>>><<>>>><><<>>><<><<>><>>>><><<<>>>><<>>><>>>><>><<<<>>>><<<>>>><>>><<>>>><>>>><<>>><<>>><><<<>>><<<><<<>>><<<<>>><<<><<>>>><>>>><><>>><>><><<>>>><<><>><<>><>>><<><<<>>><>><<<><<<<>><><<>><>><<>>>><<<<><<>>>><<<<><>>><<><>>>><<<><<>><<<<>>><<><<>>><<<>>><<<>>><<<<><<<>>>><<<>><>>>><<><<><<<<>>>><<<<>><<<>>>><<<>>>><<<<>>>><<>><><<<<><<<<><<<<>>>><<>><>><<<<><<<>><<>><<<>>>><>>>><<><<<><>>><<<<><>>><>>>><<<<>>>><<<<>><>><<<<>>><>><<<<>>><<<<>>><>>>><>>><<<>><<<>>><<<>>><>>><<<<>><<><<<>><<<<>>>><<><><<<<>>>><<<<>><<<>><<>>>><<<<><>>><>>>><<<><<<<>><<<>><><<<<>><<<<>>><<<>>>><>>>><>><<>><<>>>><<<<>>>><>>>><<<<>><<<>><<<<><<<<><>>>><<<>>>><<<<>><<>><<<<><>><>>>><><<<<>>>><<<<><<<>>>><<<>>>><<>>>><<<><<><>>><<<<>>><<>><<<<>>><<>>><<<>>>><>>>><<<<>>>><<<><<<<>>><<<<>>><>><><<<<>><<<>><<<>>><<<<><<<>>>><<<>>>><<>>>><<>>>><<<<>>>><>><<>>><<>><<<<><<><><<<<>>><<>>><<<<>>><<>><><<<<>>><<>><<<>>>><<<>>>><<><<<<>><<<>><<<>><><<<<><<><<<>>>><>>>><<<><<>><<<<>><<<<>>><><<<>>>><<>>><<<<>>>><<<>>><<<<>>><<<<>><<<>>><><>><<>><>>>><>>><<<>><>>><>><<>><><>><<>><>><<>><><<>>><<<<>>><<<>>><<>>>><>>><>>><>>><<><<><<<>><>><<>><>>>><>>>><<<><<>>><<>><<<><<>>><<<<>>>><<<>><<<<><<<<><<<<><<<>>>><<<>>>><<<>>><<<>>><<<<>>><>>>><<<<>>>><<<>>>><>>>><>>><<<>>>><<>>><<<>><<<<><<<<>>>><<<<>>><>><<<>><>>>><>>><<>><<<<>>><<<<>>>><><>>><>><>>>><>><>>><<<>>>><><<<>>><<>>>><<<<>>>><<<<>>>><<<<>>><<<<>>><<<<>><<<<>><>>><<>>><<<>>>><<<>>>><>>>><<>>><<<<>>>><><<<><<>>><<<><<>>>><>><<>><<<<>><<><><><><<<>>><<>><<<<>>>><>>>><<<><<<><>>><>>><<>><<<<>><<<>>>><<<><<<<>><<<<>>>><<>><>><><<>>>><<>><<<>>>><>>><<>>>><<<<><>><>>>><<<><<<>>>><>><><>><<<>>><<<<>>>><<>><<<<>>><<<>>><<<>>><<>>>><<<<>>><<<<>>><>><<<<>><>><>>>><<>>><<<<><<<<><<<<><>><<<<>>>><<<>>><<>>>><<<<>><<<<><<<>><>>><<<><<<<>><>><<<<>>><<<<>>><><<<>>><<<<>><<<<><<>>><<>>><<<>>><<<<>>><>><<><<>><<<<>>>><>><<>>>><<<><><<>><><<<<>>><<<>>>><<<<><<<<>>>><>>><>>><>><<<><<<<>>>><<<>>><<<<><<<>>>><<<<>>><<>>><<><<>><<<<>>>><<>>>><<<<>>><<<>>>><<><<<<>><>><<<><<>>>><<<<>>><<>><<<>>><<<<>><<<>><<<<>>><<>>><<<<>><>><<>>>><<<>`;

</script>
</head>
<body onload="calc()">
<div id="result"></div>
</body>
</html>