<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script>
	"use strict";

	function calc() {
		document.getElementById("result").innerHTML = getResult();
	}

	function getResult() {
		const data = input.split("\n").map(line => line.split(""));
		const area = {};

		for (let y = 0; y < data.length; ++y) {
			for (let x = 0; x < data[y].length; ++x) {
				if (data[y][x] == "#") {
					area[[y, x].join(",")] = "#";
				}
			}
		}

		const nextArea = {};
		Object.keys(area).forEach(key => nextArea[key] = area[key]);

		const dirs = {n: [-1, 0], s: [1, 0], w: [0, -1], e: [0, 1]};
		const dirsKeys = ["n", "s", "w", "e"];

		let part1 = 0;
		let part2 = 0;

		let move = true;

		for (let step = 0; move; ++step) {
			move = false;

			Object.keys(area).forEach(coord => {
				let [y, x] = coord.split(",").map(Number);

				if (area[coord] == "#") {
					const neighbors = checkNeighbors(area, y, x);

					if (Object.values(neighbors).filter(e => e != 0).length > 0) {
						for (let i = 0; i < dirsKeys.length; ++i) {
							if (neighbors[dirsKeys[i]] == 0) {
								let [dy, dx] = dirs[dirsKeys[i]];

								if (nextArea[[y + dy, x + dx].join(",")] == undefined) {
									nextArea[[y + dy, x + dx].join(",")] = [coord];
								} else {
									nextArea[[y + dy, x + dx].join(",")].push(coord);
								}

								i = dirsKeys.length;
							}
						}
					}
				}
			});

			Object.keys(nextArea).forEach(coord => {
				if (Array.isArray(nextArea[coord])) {
					if (nextArea[coord].length > 1) {
						nextArea[coord] = [];
					} else if (nextArea[coord].length == 1) {
						nextArea[nextArea[coord][0]] = [];
						nextArea[coord] = "#";
						move = true;
					}
				}
			});

			Object.keys(nextArea).forEach(key => area[key] = nextArea[key]);

			dirsKeys.push(dirsKeys.shift());

			if (step == 9) {
				let [yy, xx] = [[], []];

				Object.keys(area).forEach(coord => {
					if (area[coord] == "#") {
						let [y, x] = coord.split(",");

						yy.push(+y);
						xx.push(+x); 
					}
				});

				yy.sort((a, b) => a - b);
				xx.sort((a, b) => a - b);

				let minY = yy[0];
				let maxY = yy[yy.length - 1];
				let minX = xx[0];
				let maxX = xx[xx.length - 1];

				for (let y = minY; y <= maxY; ++y) {
					for (let x = minX; x <= maxX; ++x) {
						if (area[[y, x].join(",")] != "#") {
							++part1;
						}
					}
				}
			}

			part2 = step + 1;
		}

		return part1 + ", " + part2;
	}

	function checkNeighbors(area, y, x) {
		const neighbors = {n: 0, s: 0, w: 0, e: 0};

		if (area[[y - 1, x - 1].join(",")] == "#") {
			++neighbors.n;
			++neighbors.w;
		}

		if (area[[y - 1, x].join(",")] == "#") {
			++neighbors.n;
		}

		if (area[[y - 1, x + 1].join(",")] == "#") {
			++neighbors.n;
			++neighbors.e;
		}

		if (area[[y + 1, x - 1].join(",")] == "#") {
			++neighbors.s;
			++neighbors.w;
		}

		if (area[[y + 1, x].join(",")] == "#") {
			++neighbors.s;
		}

		if (area[[y + 1, x + 1].join(",")] == "#") {
			++neighbors.s;
			++neighbors.e;
		}

		if (area[[y, x - 1].join(",")] == "#") {
			++neighbors.w;
		}

		if (area[[y, x + 1].join(",")] == "#") {
			++neighbors.e;
		}

		return neighbors;
	}

const test = `..............
..............
.......#......
.....###.#....
...#...#.#....
....#...##....
...#.###......
...##.#.##....
....#..#......
..............
..............
..............`;

const input = `...#.#....##....#.#..#...#.#...#.#.###..#.###...#.#####.#.###...#####.#
.###.##.#.##.####..###..####.##....##.#.#....#..#.#...##...#....#######
#....#.######..#.#.....##...#.#####.###......#######...###..#...###...#
..#.#.#..#####.#.#.####.#.#.#...#####...#....#.##..#.#..#.##.#..#..#..#
......#.....#..#..###.#.#.###.#.#...###.######.....#..#...##.....##.##.
.####..#..#.#..#.....###.#.##............#.#.##..##.#...........#..##.#
#...##......##.....##.....#.####.##.#.##..##..#.#.###.#.#.#.#..##.##.##
.###...#.#.#......##.#..#.#.####..#####..##..#.#.######..#.......#...##
...##...####.#.#.###.##.#.##.##..##.#.###..#.#.##...###.#..##..#.#.....
...##..###........##..#.#####..#...##...##..#..##..#..#.########.#.####
.##..#.####..#..##.###.##.#....##.###.###.#...#.##..###...###.##..#...#
.###.#...##.##.#.#.####...##.####.#####.#..######..##..#####.######..##
##.#...#...##...###.#####.###.#.####.#.#...##..#..##.####..#.##...###..
.##..##..##...##...#..###.####..#####.##..###..#.#.#.###..#.##.....#.##
##....#...#.##.#...####.#..###.##..#####.#.#.#.##.#..#.#.###..#.#....#.
.####..#..##.##...#....##.##.######..##..###..#....##.####..#.#.###....
.#.###..#..#####.#.#......###..##.#.....###.###..#.#...#########....###
##.#.#.##...#.#.#.#...#.#...##.##.##.###.....#.#.##.....#...#.#.###..##
##....##.........###.##.##.#.#..#...#.#...#.####...##..#.#.##.....#.##.
..#....##.....###...#..##.#..........#.######.#.####.#####.#.#..#.#...#
.#..#..#...#.###.#.##..##...####.###.#..##...###..##...##..#..#..##.#.#
##...###.####.##.#..##.##..#..###.#.###..##.###.#....#.##.####.###.....
#.#..#......#####.######...#.###......##.##.#...#.#..#.##.##..###..##.#
..##.#.####.##.....###.#.#.##.##.####.#.#...##...#..##..###..#.##.#####
..#...#..##.#..#.###...#..#.###....###..#....#..#..####.##..####.###..#
#..####...#####..##.##..####.#..#.#.#.##...###.....###..#.###.#.#.#.##.
#.#####.###....#.######.#####..#.#..#...#..##.##..##.#.#.#.######..####
###.#.#.###.#.#.#.##.#...##.....###......#........####.#.#####.####...#
...##.#..###...####.##...####.##..##.#.#####.....##.#..##...#...###.#.#
##.....#####...##..#.##.##....##....######..###...#.##.#.#.##.#...#.###
.#.#####......###.#.##....##...#..#..#.###..########..#.#.#..#..#.#...#
.##..######......#####.##.#.#....#.###..#.###.#####.#.##.##.#.####..#..
#.#.##.#.......##....####....##........#######..##..####...##.#####..#.
..###.###.#..##..##...###..#.#.#..##..#.#.#.#..##....##..#..#.#.#..#...
#...#.#######...##.###.#..###...#..###.#.##..#####.....#...##.###.#.###
.###...#.###.##..###...#.#.#.#.##.##..#..#.#..#.##..........###.####.##
.##.#.....##..##.###.##......#.##.########.....####.#.....##..#.#.##..#
###....##.#..#####..#.#...#.#..#........#..#....#.#..#.#..#...###.####.
.#.####.##.#...#..###..##.###.###.###.....###......####.###.....##...##
##.#..#.#..##.#.#..###..#..#.##.####..##.#...###.#...#.#####.#.#.#.#.#.
....#.#....###.#..#...##.#.#.##.#.#..#...#...##....##.##.#...#.#####.#.
#.#...##.###.....#.#.#######....#####.##.#.##...##.###.#####.###..#..##
.#.###..#.###.....###.##..#.#####.#.##.#...#.######.####.#.##.#.#..#..#
####....###.#..##...#.##...##...#....#..###..#.####..#....#.####..#.###
..####.#.##..##..###...##.####..#####.#####.##..#..#..#.#...#.#.#...#.#
###...##.##...#......#...##.#.####.######...##.......#....#.#..#..###.#
#.......########.###.##.###.....#.#.###...##.#.######.##...####.#.#####
.###....####...#....#...#.#...#..##.#.##.#.####..#..#.....##.#.##.##...
#...###.####.#####....#.###...#####..##.##.#.#.##.##.#.##.##.###....##.
###..#..#......##....#.#....##.#########...#....#.#..###..#####.#.#####
#####..##.###....##.#..#...#.#..####..##.#..##.####.####..##...####...#
#.##..#.#.#....#.###.#..##.##..##.#...##..#.##..##.#...####..#.#..##..#
.#....#######.#..#.#.#.####...#.#..##.#.#.##.##.##.##..#.##...###..####
...#.####....##....#.#..#.#...#.#.###.#.##.#...#######.#.#.###.#..#...#
##...#.#.##..#.##.##...#..#########..##..####..#..#...###...######.####
#.##..###..##.##....##.....#..####....#######.##..###.#.##.######.###..
#####.####..#.##.###.##.#...#...#.#..####.#.###.#....#..##.###.##..#.#.
#.###..##..##.#####.###..####.#.#####..#.#..#.##......###.##.#...####..
...##.####..####..###.#.##.####....#######..###.#.###.....#.#..##.#....
#..#..###.#..#####....###.#.#.##.###.#..#.........####...#....#..#.#..#
#......##.##.#..####...#.###.###.#.##.##.#..#######.#..##.#..##.....###
.....##..####..##..##.#...###...###.#.....#.#.#..#..#....##.#.#########
###..#..##..###.#.#.#......####.###......#..###...##.#.##....###.....##
#.###.....###.###....#..##..##.#.###..#...##.....##.#..#.#....#...#....
####.####.#..#..#.####.##.###.#.##.#.##....#..#..#..#.#####..###.......
.........##.#.###.##.#..####...####...#..#.##..##...#...#.###.########.
#.#.#.#.#.##.##...#..##...##.##.#.#.#.#####..#..###.#..##.##.##.##...##
#.##.#..##..##.#....#..##...#####.####..##.#..##.#..#####.#####.....#.#
#.#.##..#.......##.#.#..##.##.#.####.#..###.####..#.....##.##.....####.
..#...######...#.###..#..#######..##.###...#.#.#####.#.#...#......#.#.#
.....#.....##..#.#...##..#.#.#.#.#.#..##..#..#.#.#..####.#.#...#.#.##.#`;

</script>
</head>
<body onload="calc()">
<div id="result"></div>
</body>
</html>